import{_ as S,H as f,p as i,k as c,t as l,f as r,J as n,O as p,U as m,I as d,m as u,R as _,Y as h,F as g,N as x,a2 as z,Q as O,L as b,P as N,V as j,a0 as B,K as D,S as w}from"./index.a0b9c180.js";import{Q as k}from"./QImg.37311f50.js";import{Q as U}from"./login.79107c96.js";import{b as A}from"./QChip.965b654f.js";import{A as v,P as F,S as L,F as T,C as E,R as H,Q as M,a as R,b as C}from"./socialShare.74dd5828.js";import{Q as X}from"./use-fullscreen.a0d51d97.js";const J={name:"Search-Public-Profile",props:{providerId:{type:Number,required:!0},dashboard:{type:Boolean,default:!1},saveIndex:{type:Number,default:2}},emits:["exit"],data(){return{profile:null,slide:null,contactOpen:!1,categories:[],durations:[]}},methods:{close(){this.$emit("exit")},process(s){if(this.profile=s,console.log("profile,",s),this.profile.video){this.slide=this.profile.video;return}this.profile.photos.length>0&&(this.slide=this.profile.photos[0])},openCourse(s){const t="/course?id="+s;window.open(t,"_blank","noreferrer")},processDurations(s){this.durations=s},getProfile(){v.getProfile(this.process,()=>{},this.providerId)}},computed:{url(){let s=window.location.href.replace(/^http:/,"https:");return s=s.replace(/public/g,"provider"),s+"?id="+this.providerId},hasVideo(){return this.profile.video},cardStyle(){return this.$q.platform.is.mobile?"padding:0px!important; padding-top:0px!important; margin-right:0px!important":""},bannerImg(){if(!this.profile.bannerImg)return"background: radial-gradient(circle, rgba(57,204,204,1) 0%, rgba(27,69,113,1) 100%)!important;";if(!!this.profile&&!!this.profile.bannerImg)return'background-image: url("'+this.profile.bannerImg+'")!important'},containerClass(){return this.providerId?"":"window-height window-width x-background-hint"},language(){return this.profile.languages[0]},media(){const s=[];return this.profile&&(this.profile.video&&s.push({type:"vid",url:this.profile.video}),this.profile.photos.forEach(t=>{s.push({type:"img",url:t})})),s},hashtags(){return this.profile.categories.map(t=>t.label.replace(/\s/g,"")).join(",")},otherCourses(){return this.profile.courses}},components:{ProviderContact:F,SocialShare:L,Favourite:T,CourseCard:E,VideoPlayer:H},watch:{providerId(){this.getProfile()},saveIndex(){console.log("mex"),this.getProfile()}},created(){this.getProfile(),v.getCoursesDurations(this.processDurations,()=>{}),v.getCategories(s=>{this.categories=s}),console.log("si")}},K={class:"full-width"},Y={class:"full-width text-white q-my-none text-center",style:{"line-height":"32px","font-size":"32px","font-weight":"600"}},G={class:"full-width text-white q-my-none text-center",style:{"line-height":"32px","font-size":"18px","font-weight":"300"}},W={class:"x-logo-container items-center row"},Z={class:"row full-width x-background-hint flex justify-end q-py-xs items-center"},$={class:"q-my-xs text-bold on-right"},ee={class:"row"},te={key:0,class:"row full-width q-mt-mdx q-mb-xs",style:{"margin-left":"-5px!important"}},re={class:"row"},se=["innerHTML"],oe={class:"flex q-gutter-xs justify-center"},ie={key:1};function le(s,t,y,ne,e,a){const q=f("social-share"),I=f("favourite"),Q=f("video-player"),P=f("course-card"),V=f("provider-contact");return e.profile?(i(),c("div",{key:0,onClick:t[4]||(t[4]=B(()=>{},["stop"])),class:D(["flex items-start justify-center content-start",a.containerClass]),style:{"min-widthX":"400px","max-width":"600"}},[l("div",{style:b(a.cardStyle),class:"row x-row",stylex:"flex-wrap: nowrap"},[r(N,{style:b(a.cardStyle),class:"col-sm col-12 bd-dark q-mr-md",flat:"",stylex:"min-width:550px; max-widthx: 550px!important"},{default:n(()=>[r(p,{flex:"",class:"full-width bg-primary",horizontal:""},{default:n(()=>[r(p,{class:"bg-primary full-width flex justify center items-center q-pl-none q-pr-none"},{default:n(()=>[l("span",K,[l("h1",Y,m(e.profile.name),1),l("h2",G,m(e.profile.languages[0].tagline),1)])]),_:1}),e.profile.logoImg?(i(),d(p,{key:0,class:"q-pa-none flex items-center justify-center q-pr-xs"},{default:n(()=>[l("div",W,[r(k,{fit:"contain",src:e.profile.logoImg,class:"no-padding full-width"},null,8,["src"])])]),_:1})):u("",!0)]),_:1}),l("div",Z,[r(_,{name:"location_on",color:"accent",size:"sm",class:"on-right hidden"}),e.profile.isOnline===1?(i(),d(_,{key:0,name:"computer",color:"accent",size:"lg",class:"on-right"})):u("",!0),l("p",$,m(e.profile.isOnline===1?"Online":e.profile.location),1),r(U),r(q,{url:a.url,title:e.profile.name,description:a.language.tagline,hashtags:a.hashtags},null,8,["url","title","description","hashtags"]),r(I,{url:a.url,color:"grey-9",title:e.profile.name,providerId:e.profile.providerId},null,8,["url","title","providerId"])]),r(h),r(p,null,{default:n(()=>[l("div",ee,[e.profile.categories.length>0?(i(),c("div",te,[(i(!0),c(g,null,x(e.profile.categories,o=>(i(),d(A,{key:o.value,class:"x-buttons text-primary",outline:"",size:"sm"},{default:n(()=>[w(m(o.label),1)]),_:2},1024))),128))])):u("",!0)])]),_:1}),r(h),r(z,{class:"flex items-center justify-center"},{default:n(()=>[r(O,{onClick:t[0]||(t[0]=o=>e.contactOpen=!0),flat:"",color:"white",size:"18px",class:"text-bold bg-accent full-width q-mx-md q-my-xs x-button",label:"Contact Provider","no-caps":"",rounded:"",unelevated:""})]),_:1}),r(h),a.hasVideo?(i(),d(p,{key:0,class:"x-input full-width flex justify-start q-mb-lg",ref:""},{default:n(()=>[t[5]||(t[5]=l("div",{class:"row"},[l("p",{class:"text-bold text-h7"})],-1)),r(Q,{src:e.profile.video,controls:"",loop:!1,volume:.6,fluid:"",stylex:"height:200px; width: 100%"},null,8,["src"])]),_:1},512)):u("",!0),r(p,null,{default:n(()=>[l("div",re,[t[6]||(t[6]=l("p",{class:"text-bold text-h7"},"About the provider",-1)),l("p",{innerHTML:a.language.description,class:"full-width q-my-none text-left",style:{"font-weight":"400","font-size":"14px"}},null,8,se)])]),_:1}),r(p,null,{default:n(()=>[r(M,{ref:"carousel",navigation:"",arrows:"",animated:"",modelValue:e.slide,"onUpdate:modelValue":t[1]||(t[1]=o=>e.slide=o),"navigation-icon":"radio_button_unchecked",infinite:"",class:"full-width"},{default:n(()=>[(i(!0),c(g,null,x(e.profile.photos,o=>(i(),d(C,{"spinner-color":"accent",key:o,name:o,"img-src":o,class:"rounded-borders column no-padding"},{default:n(()=>[...t[7]||(t[7]=[l("div",{class:"x-image-strip-top",style:{}},null,-1),l("div",{class:"col"},null,-1),l("div",{style:{},class:"x-image-strip-bottom"},null,-1)])]),_:1},8,["name","img-src"]))),128)),e.profile.video?(i(),d(C,{key:0,name:e.profile.video},{default:n(()=>[r(R,{class:"absolute-full",src:e.profile.video},null,8,["src"])]),_:1},8,["name"])):u("",!0)]),_:1},8,["modelValue"])]),_:1}),r(h),r(p,null,{default:n(()=>[t[8]||(t[8]=l("p",{class:"text-bold"},"Provider Operates in:",-1)),l("div",oe,[(i(!0),c(g,null,x(e.profile.countries,o=>(i(),d(k,{width:"32px",height:"24px",key:o.id,src:o.flagUrl,style:{border:"1px solid black"}},{default:n(()=>[r(X,null,{default:n(()=>[w(m(o.name),1)]),_:2},1024)]),_:2},1032,["src"]))),128))])]),_:1}),y.dashboard?u("",!0):(i(),c("div",ie,[a.otherCourses.length>0?(i(),d(h,{key:0,class:"q-mt-md"})):u("",!0),a.otherCourses.length>0?(i(),d(p,{key:1,class:"x-background-hint q-py-sm"},{default:n(()=>[...t[9]||(t[9]=[l("h2",{class:"q-my-sm text-bold text-left",style:{"font-size":"20px"}},"Upcoming Courses",-1)])]),_:1})):u("",!0),a.otherCourses.length>0&&e.categories.length>0&&e.durations.length>0?(i(),d(p,{key:2,class:"x-background-hintX q-ma-none q-mb-mdx q-py-none q-px-none"},{default:n(()=>[(i(!0),c(g,null,x(a.otherCourses,o=>(i(),c("div",{class:"col q-mb-sm",key:o.id},[r(P,{style:{"border-radius":"0px!important"},flat:"",i:o,categories:e.categories,durations:e.durations,dense:""},null,8,["i","categories","durations"])]))),128))]),_:1})):u("",!0)]))]),_:1},8,["style"])],4),e.profile?(i(),d(j,{key:0,modelValue:e.contactOpen,"onUpdate:modelValue":t[3]||(t[3]=o=>e.contactOpen=o)},{default:n(()=>[r(V,{providerId:y.providerId,providerName:e.profile.name,onExit:t[2]||(t[2]=o=>e.contactOpen=!1)},null,8,["providerId","providerName"])]),_:1},8,["modelValue"])):u("",!0)],2)):u("",!0)}var me=S(J,[["render",le],["__scopeId","data-v-7f970a65"]]);export{me as P};

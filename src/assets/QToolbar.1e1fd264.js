import{v as z,i as M,A as $,B as R,a8 as W,c as s,h as v,z as k,g as Q,a9 as j,aa as K,w as L,o as N,C as U,ab as V,ac as _,ad as D,ae as I,af as X,r as S,a5 as Y,ag as T,j as C,a as G,a6 as J}from"./index.a0b9c180.js";import{Q as E}from"./QList.fb8789d5.js";var le=z({name:"QPageContainer",setup(e,{slots:f}){const{proxy:{$q:t}}=Q(),o=M(R,$);if(o===$)return console.error("QPageContainer needs to be child of QLayout"),$;W(j,!0);const l=s(()=>{const a={};return o.header.space===!0&&(a.paddingTop=`${o.header.size}px`),o.right.space===!0&&(a[`padding${t.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(a.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(a[`padding${t.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),a});return()=>v("div",{class:"q-page-container",style:l.value},k(f.default))}});const Z={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function ee(){const{props:e,proxy:{$q:f}}=Q(),t=M(R,$);if(t===$)return console.error("QPageSticky needs to be child of QLayout"),$;const o=s(()=>{const i=e.position;return{top:i.indexOf("top")!==-1,right:i.indexOf("right")!==-1,bottom:i.indexOf("bottom")!==-1,left:i.indexOf("left")!==-1,vertical:i==="top"||i==="bottom",horizontal:i==="left"||i==="right"}}),l=s(()=>t.header.offset),a=s(()=>t.right.offset),d=s(()=>t.footer.offset),h=s(()=>t.left.offset),p=s(()=>{let i=0,g=0;const r=o.value,b=f.lang.rtl===!0?-1:1;r.top===!0&&l.value!==0?g=`${l.value}px`:r.bottom===!0&&d.value!==0&&(g=`${-d.value}px`),r.left===!0&&h.value!==0?i=`${b*h.value}px`:r.right===!0&&a.value!==0&&(i=`${-b*a.value}px`);const m={transform:`translate(${i}, ${g})`};return e.offset&&(m.margin=`${e.offset[1]}px ${e.offset[0]}px`),r.vertical===!0?(h.value!==0&&(m[f.lang.rtl===!0?"right":"left"]=`${h.value}px`),a.value!==0&&(m[f.lang.rtl===!0?"left":"right"]=`${a.value}px`)):r.horizontal===!0&&(l.value!==0&&(m.top=`${l.value}px`),d.value!==0&&(m.bottom=`${d.value}px`)),m}),c=s(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function y(i){const g=k(i.default);return v("div",{class:c.value,style:p.value},e.expand===!0?g:[v("div",g)])}return{$layout:t,getStickyContent:y}}var ae=z({name:"QPageSticky",props:Z,setup(e,{slots:f}){const{getStickyContent:t}=ee();return()=>t(f)}});const{passive:F}=D,te=["both","horizontal","vertical"];var oe=z({name:"QScrollObserver",props:{axis:{type:String,validator:e=>te.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:K},emits:["scroll"],setup(e,{emit:f}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,l,a;L(()=>e.scrollTarget,()=>{p(),h()});function d(){o==null||o();const i=Math.max(0,I(l)),g=X(l),r={top:i-t.position.top,left:g-t.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const b=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";t.position={top:i,left:g},t.directionChanged=t.direction!==b,t.delta=r,t.directionChanged===!0&&(t.direction=b,t.inflectionPoint=t.position),f("scroll",{...t})}function h(){l=_(a,e.scrollTarget),l.addEventListener("scroll",c,F),c(!0)}function p(){l!==void 0&&(l.removeEventListener("scroll",c,F),l=void 0)}function c(i){if(i===!0||e.debounce===0||e.debounce==="0")d();else if(o===null){const[g,r]=e.debounce?[setTimeout(d,e.debounce),clearTimeout]:[requestAnimationFrame(d),cancelAnimationFrame];o=()=>{r(g),o=null}}}const{proxy:y}=Q();return L(()=>y.$q.lang.rtl,d),N(()=>{a=y.$el.parentNode,h()}),U(()=>{o==null||o(),p()}),Object.assign(y,{trigger:c,getPosition:()=>t}),V}}),re=z({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:f,emit:t}){const{proxy:{$q:o}}=Q(),l=S(null),a=S(o.screen.height),d=S(e.container===!0?0:o.screen.width),h=S({position:0,direction:"down",inflectionPoint:0}),p=S(0),c=S(Y.value===!0?0:T()),y=s(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),i=s(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),g=s(()=>c.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),r=s(()=>c.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function b(n){if(e.container===!0||document.qScrollPrevented!==!0){const u={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};h.value=u,e.onScroll!==void 0&&t("scroll",u)}}function m(n){const{height:u,width:x}=n;let w=!1;a.value!==u&&(w=!0,a.value=u,e.onScrollHeight!==void 0&&t("scrollHeight",u),H()),d.value!==x&&(w=!0,d.value=x),w===!0&&e.onResize!==void 0&&t("resize",n)}function A({height:n}){p.value!==n&&(p.value=n,H())}function H(){if(e.container===!0){const n=a.value>p.value?T():0;c.value!==n&&(c.value=n)}}let P=null;const O={instances:{},view:s(()=>e.view),isContainer:s(()=>e.container),rootRef:l,height:a,containerHeight:p,scrollbarWidth:c,totalWidth:s(()=>d.value+c.value),rows:s(()=>{const n=e.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:C({size:0,offset:0,space:!1}),right:C({size:300,offset:0,space:!1}),footer:C({size:0,offset:0,space:!1}),left:C({size:300,offset:0,space:!1}),scroll:h,animate(){P!==null?clearTimeout(P):document.body.classList.add("q-body--layout-animate"),P=setTimeout(()=>{P=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,u,x){O[n][u]=x}};if(W(R,O),T()>0){let x=function(){n=null,u.classList.remove("hide-scrollbar")},w=function(){if(n===null){if(u.scrollHeight>o.screen.height)return;u.classList.add("hide-scrollbar")}else clearTimeout(n);n=setTimeout(x,300)},q=function(B){n!==null&&B==="remove"&&(clearTimeout(n),x()),window[`${B}EventListener`]("resize",w)},n=null;const u=document.body;L(()=>e.container!==!0?"add":"remove",q),e.container!==!0&&q("add"),G(()=>{q("remove")})}return()=>{const n=J(f.default,[v(oe,{onScroll:b}),v(E,{onResize:m})]),u=v("div",{class:y.value,style:i.value,ref:e.container===!0?void 0:l,tabindex:-1},n);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:l},[v(E,{onResize:A}),v("div",{class:"absolute-full",style:g.value},[v("div",{class:"scroll",style:r.value},[u])])]):u}}}),se=z({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:f}){const t=s(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>v("div",{class:t.value,role:"toolbar"},k(f.default))}});export{se as Q,re as a,le as b,ae as c,oe as d};

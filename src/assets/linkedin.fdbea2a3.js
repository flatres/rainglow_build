import{Q as d}from"./QImg.37311f50.js";import{Q as l}from"./QPage.01e9a962.js";import{S as p,u as _}from"./user.366ad68b.js";import{_ as m,Z as g,ao as a,p as s,I as h,J as u,k as r,f,m as c}from"./index.a0b9c180.js";var k="/assets/icon_dark.cfe14c0e.png";const v={name:"Page-Login",emits:["close"],props:{},components:{},data(){return{failed:!1}},methods:{...g(_,["login","loginWithKey","saveData"]),processLogin(e){const o=a.getItem("linkedin_location");this.$q.loading.hide(),this.saveData(e),console.log("ld",e),window.location.href=o}},computed:{},watch:{},created(){this.$q.loading.show();const e=a.getItem("linkedin_state"),o=this.$route.query.code,i=this.$route.query.state,n=window.location.origin+"/linkedin";if(e===i){const t={code:o,redirect:n};console.log(t),p.postLinkedin(this.processLogin,this.$errorHandler,t)}else this.failed=!0,this.$q.loading.hide()}},w={key:0,style:{"margin-top":"80px"}},y={key:1};function x(e,o,i,n,t,$){return s(),h(l,{class:"flex items-center justify-start column"},{default:u(()=>[t.failed?(s(),r("div",w,[f(d,{width:"100px",src:k})])):c("",!0),t.failed?(s(),r("h1",y,"Something went wrong.")):c("",!0)]),_:1})}var Q=m(v,[["render",x],["__scopeId","data-v-85094b0e"]]);export{Q as default};

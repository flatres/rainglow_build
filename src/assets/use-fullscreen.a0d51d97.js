import{v as ae,aM as le,aN as w,aa as se,aO as ie,r as x,c as T,aw as re,ax as ue,aP as ce,aQ as de,aR as fe,w as y,C,aF as $,aC as q,ac as ve,h as j,a7 as me,g as N,z as he,ak as ge,bC as pe,b4 as ye,o as be,bD as A}from"./index.a0b9c180.js";import{d as Te,v as D,e as Pe,p as L,f as Se,c as we,r as R,s as xe,g as Ce}from"./QChip.965b654f.js";import{j as B}from"./QList.fb8789d5.js";var Fe=ae({name:"QTooltip",inheritAttrs:!1,props:{...Te,...le,...w,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...w.transitionShow,default:"jump-down"},transitionHide:{...w.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:D},self:{type:String,default:"top middle",validator:D},offset:{type:Array,default:()=>[14,14],validator:Pe},scrollTarget:se,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ie],setup(e,{slots:v,emit:m,attrs:n}){let a,l;const u=N(),{proxy:{$q:t}}=u,s=x(null),r=x(!1),c=T(()=>L(e.anchor,t.lang.rtl)),f=T(()=>L(e.self,t.lang.rtl)),Q=T(()=>e.persistent!==!0),{registerTick:I,removeTick:V}=re(),{registerTimeout:b}=ue(),{transitionProps:W,transitionStyle:_}=ce(e),{localScrollTarget:O,changeScrollEvent:z,unconfigureScrollTarget:U}=Se(e,H),{anchorEl:i,canShow:G,anchorEvents:h}=we({showing:r,configureAnchorEl:te}),{show:J,hide:P}=de({showing:r,canShow:G,handleShow:X,handleHide:Y,hideOnRouteChange:Q,processOnMount:!0});Object.assign(h,{delayShow:Z,delayHide:ee});const{showPortal:E,hidePortal:k,renderPortal:K}=fe(u,s,ne,"tooltip");if(t.platform.is.mobile===!0){const o={anchorEl:i,innerRef:s,onClickOutside(d){return P(d),d.target.classList.contains("q-dialog__backdrop")&&ge(d),!0}},S=T(()=>e.modelValue===null&&e.persistent!==!0&&r.value===!0);y(S,d=>{(d===!0?Ce:R)(o)}),C(()=>{R(o)})}function X(o){E(),I(()=>{l=new MutationObserver(()=>g()),l.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),g(),H()}),a===void 0&&(a=y(()=>t.screen.width+"|"+t.screen.height+"|"+e.self+"|"+e.anchor+"|"+t.lang.rtl,g)),b(()=>{E(!0),m("show",o)},e.transitionDuration)}function Y(o){V(),k(),F(),b(()=>{k(!0),m("hide",o)},e.transitionDuration)}function F(){l!==void 0&&(l.disconnect(),l=void 0),a!==void 0&&(a(),a=void 0),U(),$(h,"tooltipTemp")}function g(){xe({targetEl:s.value,offset:e.offset,anchorEl:i.value,anchorOrigin:c.value,selfOrigin:f.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Z(o){if(t.platform.is.mobile===!0){B(),document.body.classList.add("non-selectable");const S=i.value,d=["touchmove","touchcancel","touchend","click"].map(M=>[S,M,"delayHide","passiveCapture"]);q(h,"tooltipTemp",d)}b(()=>{J(o)},e.delay)}function ee(o){t.platform.is.mobile===!0&&($(h,"tooltipTemp"),B(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),b(()=>{P(o)},e.hideDelay)}function te(){if(e.noParentEvent===!0||i.value===null)return;const o=t.platform.is.mobile===!0?[[i.value,"touchstart","delayShow","passive"]]:[[i.value,"mouseenter","delayShow","passive"],[i.value,"mouseleave","delayHide","passive"]];q(h,"anchor",o)}function H(){if(i.value!==null||e.scrollTarget!==void 0){O.value=ve(i.value,e.scrollTarget);const o=e.noParentEvent===!0?g:P;z(O.value,o)}}function oe(){return r.value===!0?j("div",{...n,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,_.value],role:"tooltip"},he(v.default)):null}function ne(){return j(me,W.value,oe)}return C(F),Object.assign(u.proxy,{updatePosition:g}),K}});let p=0;const He={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Me=["update:fullscreen","fullscreen"];function $e(){const e=N(),{props:v,emit:m,proxy:n}=e;let a,l,u;const t=x(!1);pe(e)===!0&&y(()=>n.$route.fullPath,()=>{v.noRouteFullscreenExit!==!0&&c()}),y(()=>v.fullscreen,f=>{t.value!==f&&s()}),y(t,f=>{m("update:fullscreen",f),m("fullscreen",f)});function s(){t.value===!0?c():r()}function r(){t.value!==!0&&(t.value=!0,u=n.$el.parentNode,u.replaceChild(l,n.$el),document.body.appendChild(n.$el),p++,p===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:c},A.add(a))}function c(){t.value===!0&&(a!==void 0&&(A.remove(a),a=void 0),u.replaceChild(n.$el,l),t.value=!1,p=Math.max(0,p-1),p===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return ye(()=>{l=document.createElement("span")}),be(()=>{v.fullscreen===!0&&r()}),C(c),Object.assign(n,{toggleFullscreen:s,setFullscreen:r,exitFullscreen:c}),{inFullscreen:t,toggleFullscreen:s}}export{Fe as Q,Me as a,$e as b,He as u};

import{_ as P,G as U,H as T,p as i,k as b,f as e,J as o,P as g,O as c,t as v,Q as a,F as I,N as V,M as d,I as f,R as C,a0 as O,m as h,K as D,V as w,S as k,Y as F,a2 as y,a1 as q,ap as Q,U as B,W as u,X as j,bp as z}from"./index.a0b9c180.js";import{a as N,b as _,c as x,T as A}from"./QList.fb8789d5.js";import{b as K,Q as L,a as E}from"./QChip.965b654f.js";import{a as S,Q as R}from"./QScrollArea.9b72a6ed.js";import{Q as M}from"./login.79107c96.js";import{a as H,b as G,c as J,Q as X}from"./QToolbar.1e1fd264.js";import{Q as Y}from"./QPage.01e9a962.js";import{A as m,C as Z}from"./socialShare.74dd5828.js";import{u as $}from"./user.366ad68b.js";import{P as ee,a as le}from"./providerCard.8a503441.js";import{P as te}from"./provider.0c19dea2.js";import{C as oe}from"./course.6c357a85.js";import{C as se}from"./courseCard.7c012996.js";import"./TouchPan.59d47c9f.js";import"./format.959830d0.js";import"./QImg.37311f50.js";import"./_commonjsHelpers.8402d862.js";import"./use-fullscreen.a0d51d97.js";import"./QSkeleton.820e7de6.js";const re={name:"Search-Public",props:{},data(){return{active:null,activeListing:0,selectedBookmark:null,clientOptions:["All Clients"],searchOpen:!1,profileOpen:!1,results:[],loginOpen:!1,bookmarkId:null,resizeTimer:null,noResults:!1,view:"list",favourites:[],editId:null,editName:null,newName:"",selectedFolderId:null,selectedFolder:null,categories:[],countries:[],durations:[],folder:[],folders:[],drawerLeft:!0,currentBookmark:null,bookmarkDrawerOpen:!1,bookmarkWidth:200,currentDeleteId:null,deleteOpen:!1,deleteFolderOpen:!1,renameOpen:!1,loading:!1,newFolderOpen:!1}},methods:{openDelete(r){this.currentDeleteId=r,this.deleteOpen=!0},deleteBookmark(){m.deleteBookmark(r=>{this.openFolder(this.selectedFolderId),this.deleteOpen=!1,this.getFolders()},null,this.currentDeleteId)},startDeleteFolder(r){this.currentDeleteId=r,this.deleteFolderOpen=!0},deleteFolder(){m.deleteBookmarkFolder(r=>{this.deleteFolderOpen=!1,this.getFolders()},null,this.currentDeleteId)},newFolder(){const r={name:this.newName};m.postBookmarkFolder(l=>{this.newFolderOpen=!1,this.newName="",this.getFolders()},null,r)},startRenameFolder(r){this.editId=r.id,this.editName=r.name,this.renameOpen=!0},renameFolder(){const r={id:this.editId,name:this.editName};m.putBookmarkFolderName(l=>{this.renameOpen=!1,this.getFolders()},null,r)},openFolder(r){this.selectedFolderId=r,this.selectedFolder=this.folders.find(l=>l.id===r),m.getBookmarkFolder(l=>{this.folder=l},null,r)},openBookmark(r){this.bookmarkDrawerOpen=!0,this.bookmarkId=r.id,this.currentBookmark=r},closeLogin(r){this.loginOpen=!1},process(r){this.results=r,this.noResults=this.results.length===0},updateWidth(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.$nextTick(()=>{this.$refs.search&&(this.bookmarkWidth=this.$q.screen.width-this.$refs.search.$el.offsetWidth-20,this.bookmarkWidth>700&&(this.bookmarkWidth=700),this.bookmarkWidth=700,this.$q.platform.is.mobile&&(this.bookmarkWidth=this.$q.screen.width))})},50)},getFolders(){m.getBookmarkFolders(r=>{this.folders=r,r.length>0&&this.openFolder(r[0].id)},null)}},computed:{...U($,["isLoggedIn","userId","guest","cookiesAccepted","geoCountryId"]),tabStyle(){const r=this.bookmarkWidth;return this.bookmarkDrawerOpen?"right: "+r+"px":""},resultClass(){return this.view==="list"?"col-12":"col-xs-12 col-sm-6 col-lg-4"}},components:{Provider:te,Course:oe,ProviderRibbon:ee,CourseRibbon:Z,ProviderCard:le,CourseCard:se},mounted(){this.isLoggedIn||(this.loginOpen=!0),this.updateWidth(),window.addEventListener("resize",this.updateWidth)},beforeUnmount(){window.removeEventListener("resize",this.updateWidth)},created(){this.getFolders(),m.getCategories(r=>{this.categories=r}),m.getCountries(r=>{this.countries=r}),m.getCoursesDurations(r=>{this.durations=r})},watch:{}},ne={class:"q-pa-none fit"},ie={key:0,class:"q-pa-md"},ae={key:0,class:"row q-col-gutter-md justify-start content-start items-start col-12 q-pr-sm q-pt-md items-stretch"},de={class:"full-width"},ue={class:"full-width text-center q-mt-xl"};function me(r,l,pe,ce,s,n){const W=T("course");return i(),b("div",ne,[e(H,{view:"hHh LpR lFf",container:"",class:"shadow-2 rounded-borders"},{default:o(()=>[e(S,{modelValue:s.drawerLeft,"onUpdate:modelValue":l[1]||(l[1]=t=>s.drawerLeft=t),width:250,"show-if-above":"",bordered:"",class:"bg-white"},{default:o(()=>[e(R,{class:"fit",ref:"search"},{default:o(()=>[e(g,{flat:"",square:"",class:"fit"},{default:o(()=>[e(c,{class:"bg-primary no-rounded text-white q-py-sm q-pr-xs flex"},{default:o(()=>[l[17]||(l[17]=v("div",{class:"text-h6 text-bold text-left q-pb-none col",style:{"padding-bottom":"2px"}},"Bookmarks",-1)),e(a,{onClick:l[0]||(l[0]=t=>s.newFolderOpen=!0),size:"12px",flat:"",icon:"create_new_folder",class:""})]),_:1}),e(c,{class:"q-px-none q-pt-none q-pb-none"},{default:o(()=>[e(N,{padding:"",class:"q-pt-none"},{default:o(()=>[(i(!0),b(I,null,V(s.folders,t=>d((i(),f(_,{key:t.id,class:D({"x-selected-folder":t.id===s.selectedFolderId}),onClick:p=>n.openFolder(t.id),clickable:""},{default:o(()=>[e(x,{avatar:"",class:"q-pr-none"},{default:o(()=>[e(C,{name:"folder",color:"primary",class:"text-primary"})]),_:1}),e(x,null,{default:o(()=>[e(L,{lines:"1"},{default:o(()=>[k(B(t.name),1)]),_:2},1024),e(L,{caption:""},{default:o(()=>[k(B(t.urls_count)+" items",1)]),_:2},1024)]),_:2},1024),e(x,{side:""},{default:o(()=>[t.locked?h("",!0):(i(),f(a,{key:0,size:"12px",flat:"",dense:"",round:"",icon:"more_vert"},{default:o(()=>[e(E,null,{default:o(()=>[e(N,{style:{"min-width":"150px"}},{default:o(()=>[d((i(),f(_,{clickable:"",onClick:p=>n.startRenameFolder(t)},{default:o(()=>[e(x,null,{default:o(()=>[...l[18]||(l[18]=[k("Rename",-1)])]),_:1})]),_:1},8,["onClick"])),[[u]]),d((i(),f(_,{clickable:"",onClick:p=>n.startDeleteFolder(t.id)},{default:o(()=>[e(x,null,{default:o(()=>[...l[19]||(l[19]=[k("Delete",-1)])]),_:1})]),_:1},8,["onClick"])),[[u]])]),_:2},1024)]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1032,["class","onClick"])),[[j]])),128))]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1},8,["modelValue"]),d((i(),f(S,{modelValue:s.bookmarkDrawerOpen,"onUpdate:modelValue":l[3]||(l[3]=t=>s.bookmarkDrawerOpen=t),behavior:"mobile",width:s.bookmarkWidth,side:"right",elevated:"",overlay:""},{default:o(()=>[v("div",{class:"x-close-tab z-top absolute-left flex items-center justify-center cursor-pointer",style:{"z-index":"99999!important"},onClick:l[2]||(l[2]=O(t=>s.bookmarkDrawerOpen=!1,["stop"]))},[e(C,{name:"close",color:"white",size:"xs"})]),e(R,{class:"fit"},{default:o(()=>[s.currentBookmark?(i(),b("div",ie,[e(W,{courseId:s.currentBookmark.courseId},null,8,["courseId"])])):h("",!0)]),_:1})]),_:1},8,["modelValue","width"])),[[A,()=>{s.bookmarkDrawerOpen=!1},void 0,{right:!0}]]),e(G,null,{default:o(()=>[e(Y,{padding:"",style:{"padding-top":"66px"},class:"column"},{default:o(()=>[s.folder.length===0&&!s.loading?(i(),b("div",ae,[v("div",de,[v("div",ue,[e(C,{name:"sentiment_dissatisfied",color:"accent",size:"xl",class:""})]),l[20]||(l[20]=v("h1",{class:"full-width text-bold text-grey-7 q-mt-none text-center",style:{"font-size":"25px"}},"Empty",-1))])])):h("",!0),s.loading?h("",!0):(i(),b("div",{key:1,class:D(["fit row",{"q-col-gutter-md":r.$q.platform.is.desktop}])},[(i(!0),b(I,null,V(s.folder,t=>(i(),b("div",{class:D(["q-pb-sm",n.resultClass]),key:t.id},[t.isCourse?h("",!0):(i(),f(z(s.view==="list"?"provider-ribbon":"provider-card"),{key:0,clickable:"",onClick:O(p=>n.openBookmark(t),["stop"]),onOpen:p=>n.openBookmark(t),onDelete:p=>n.openDelete(t.id),i:t,countries:s.countries,hideFavourite:"",showDelete:"",categories:s.categories},null,40,["onClick","onOpen","onDelete","i","countries","categories"])),t.isCourse?(i(),f(z(s.view==="list"?"course-ribbon":"course-card"),{key:1,clickable:"",onClick:O(p=>n.openBookmark(t),["stop"]),onOpen:p=>n.openBookmark(t),onDelete:p=>n.openDelete(t.id),hideFavourite:"",showDelete:"",i:t,durations:s.durations,categories:s.categories},null,40,["onClick","onOpen","onDelete","i","durations","categories"])):h("",!0)],2))),128))],2)),e(J,{expand:"",position:"top",class:"q-pt-none q-pl-none"},{default:o(()=>[e(X,{class:"bg-white x-toolbar"},{default:o(()=>[e(a,{onClick:l[4]||(l[4]=t=>s.drawerLeft=!0),icon:"folder",dense:"",color:"accent",outline:"",class:"mobile-only on-left"}),s.selectedFolder?(i(),f(K,{key:0,label:s.selectedFolder.name,class:""},null,8,["label"])):h("",!0),e(M),e(a,{onClick:l[5]||(l[5]=t=>s.view="list"),dense:"",outline:"",color:s.view==="list"?"accent":"grey-7",icon:"list",class:"on-right q-px-xs"},null,8,["color"]),e(a,{onClick:l[6]||(l[6]=t=>s.view="grid"),dense:"",outline:"",color:s.view==="grid"?"accent":"grey-7",icon:"grid_view",class:"on-right q-px-xs"},null,8,["color"])]),_:1})]),_:1})]),_:1}),e(w,{modelValue:s.deleteOpen,"onUpdate:modelValue":l[8]||(l[8]=t=>s.deleteOpen=t)},{default:o(()=>[e(g,{style:{width:"400px"}},{default:o(()=>[e(c,{class:"text-bold x-background-hint"},{default:o(()=>[...l[21]||(l[21]=[k("Remove Item",-1)])]),_:1}),e(F),e(y,{class:"justify-center flex"},{default:o(()=>[d(e(a,{"no-caps":"",outline:"",label:"Cancel",class:"col x-button x-dialog-button",size:"md"},null,512),[[u]]),d(e(a,{"no-caps":"",unelevated:"",label:"Remove",color:"primary",class:"col x-dialog-button x-button",size:"md",onClick:l[7]||(l[7]=t=>n.deleteBookmark())},null,512),[[u]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(w,{modelValue:s.deleteFolderOpen,"onUpdate:modelValue":l[10]||(l[10]=t=>s.deleteFolderOpen=t)},{default:o(()=>[e(g,{style:{width:"400px"}},{default:o(()=>[e(c,{class:"text-bold x-background-hint"},{default:o(()=>[...l[22]||(l[22]=[k("Delete Folder",-1)])]),_:1}),e(F),e(y,{class:"justify-center flex"},{default:o(()=>[d(e(a,{"no-caps":"",outline:"",label:"Cancel",class:"col x-button x-dialog-button",size:"md"},null,512),[[u]]),d(e(a,{"no-caps":"",unelevated:"",label:"Remove",color:"primary",class:"col x-dialog-button x-button",size:"md",onClick:l[9]||(l[9]=t=>n.deleteFolder())},null,512),[[u]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(w,{modelValue:s.renameOpen,"onUpdate:modelValue":l[13]||(l[13]=t=>s.renameOpen=t)},{default:o(()=>[e(g,{style:{width:"400px"}},{default:o(()=>[e(c,{class:"text-bold x-background-hint"},{default:o(()=>[...l[23]||(l[23]=[k("Rename Folder",-1)])]),_:1}),e(F),e(c,null,{default:o(()=>[e(q,{onKeyup:Q(n.renameFolder,["enter"]),dense:"",outlined:"",placeholder:"New Folder",autofocus:"",modelValue:s.editName,"onUpdate:modelValue":l[11]||(l[11]=t=>s.editName=t),"input-class":"q-pl-none",class:"no-prepend"},null,8,["onKeyup","modelValue"])]),_:1}),e(y,{class:"justify-center flex"},{default:o(()=>[d(e(a,{"no-caps":"",outline:"",label:"Cancel",class:"col x-button x-dialog-button",size:"md"},null,512),[[u]]),d(e(a,{"no-caps":"",unelevated:"",label:"Save",color:"primary",class:"col x-dialog-button x-button",size:"md",onClick:l[12]||(l[12]=t=>n.renameFolder())},null,512),[[u]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(w,{modelValue:s.newFolderOpen,"onUpdate:modelValue":l[16]||(l[16]=t=>s.newFolderOpen=t)},{default:o(()=>[e(g,{style:{width:"400px"}},{default:o(()=>[e(c,{class:"text-bold x-background-hint"},{default:o(()=>[...l[24]||(l[24]=[k("New Folder",-1)])]),_:1}),e(F),e(c,null,{default:o(()=>[e(q,{onKeyup:Q(n.newFolder,["enter"]),dense:"",outlined:"",placeholder:"Name",autofocus:"",modelValue:s.newName,"onUpdate:modelValue":l[14]||(l[14]=t=>s.newName=t),"input-class":"q-pl-none",class:"no-prepend"},null,8,["onKeyup","modelValue"])]),_:1}),e(y,{class:"justify-center flex"},{default:o(()=>[d(e(a,{"no-caps":"",outline:"",label:"Cancel",class:"col x-button x-dialog-button",size:"md"},null,512),[[u]]),d(e(a,{disabled:s.newName.length<1,"no-caps":"",unelevated:"",label:"Save",color:"primary",class:"col x-dialog-button x-button",size:"md",onClick:l[15]||(l[15]=t=>n.newFolder())},null,8,["disabled"]),[[u]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])}var ze=P(re,[["render",me],["__scopeId","data-v-6133613e"]]);export{ze as default};

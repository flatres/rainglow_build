import{Q as V,a as q}from"./QSkeleton.820e7de6.js";import{az as T,au as H,v as U,r as A,a5 as D,c as k,h as S,a7 as R,aI as E,z as X,_ as J,H as b,p as l,k as m,f as r,m as c,L as O,J as i,O as p,t as o,U as h,I as f,R as w,Y as v,S as z,F as I,N as Q,a2 as K,Q as Y,P as G,V as W,a0 as Z,K as $}from"./index.a0b9c180.js";import{Q as j}from"./QImg.37311f50.js";import{Q as ee}from"./login.79107c96.js";import{b as te}from"./QChip.965b654f.js";import{A as P,P as se,S as re,F as oe,C as ie,R as ne,Q as le,a as ae,b as N}from"./socialShare.74dd5828.js";import{Q as ue}from"./use-fullscreen.a0d51d97.js";const B={threshold:0,root:null,rootMargin:"0px"};function F(t,e,u){var y;let d,s,n;typeof u=="function"?(d=u,s=B,n=e.cfg===void 0):(d=u.handler,s=Object.assign({},B,u.cfg),n=e.cfg===void 0||H(e.cfg,s)===!1),e.handler!==d&&(e.handler=d),n===!0&&(e.cfg=s,(y=e.observer)==null||y.unobserve(t),e.observer=new IntersectionObserver(([g])=>{if(typeof e.handler=="function"){if(g.rootBounds===null&&document.body.contains(t)===!0){e.observer.unobserve(t),e.observer.observe(t);return}(e.handler(g,e.observer)===!1||e.once===!0&&g.isIntersecting===!0)&&L(t)}},s),e.observer.observe(t))}function L(t){var u;const e=t.__qvisible;e!==void 0&&((u=e.observer)==null||u.unobserve(t),delete t.__qvisible)}var ce=T({name:"intersection",mounted(t,{modifiers:e,value:u}){const d={once:e.once===!0};F(t,d,u),t.__qvisible=d},updated(t,e){const u=t.__qvisible;u!==void 0&&F(t,u,e.value)},beforeUnmount:L}),de=U({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(t,{slots:e,emit:u}){const d=A(D.value===!0?t.ssrPrerender:!1),s=k(()=>t.root!==void 0||t.margin!==void 0||t.threshold!==void 0?{handler:_,cfg:{root:t.root,rootMargin:t.margin,threshold:t.threshold}}:_),n=k(()=>t.disable!==!0&&(D.value!==!0||t.once!==!0||t.ssrPrerender!==!0)),y=k(()=>[[ce,s.value,void 0,{once:t.once}]]),g=k(()=>`--q-transition-duration: ${t.transitionDuration}ms`);function _(x){d.value!==x.isIntersecting&&(d.value=x.isIntersecting,t.onVisibility!==void 0&&u("visibility",d.value))}function C(){if(d.value===!0)return[S("div",{key:"content",style:g.value},X(e.default))];if(e.hidden!==void 0)return[S("div",{key:"hidden",style:g.value},e.hidden())]}return()=>{const x=t.transition?[S(R,{name:"q-transition--"+t.transition},C)]:C();return E(t.tag,{class:"q-intersection"},x,"main",n.value,()=>y.value)}}});const fe={name:"Search-Public-Profile",props:{courseId:{type:Number,required:!0}},emits:["exit"],data(){return{profile:null,slide:null,contactOpen:!1,course:null,categories:[],durations:[],loading:!0}},methods:{close(){console.log("closing"),this.$emit("exit")},process(t){if(this.course=t,this.profile=t.provider,this.profile.video){this.slide=this.profile.video;return}this.profile.photos.length>0&&(this.slide=this.profile.photos[0]),this.loading=!1},openCourse(t){const e="/course?id="+t;window.open(e,"_blank","noreferrer")},cost(t){const e=t.cost;if(e>0)return"$"+e;if(e===0)return"Free";if(e<0)return this.$q.platform.is.mobile?"Contact":"Contact Provider"},processDurations(t){this.durations=t},getCourse(){this.loading=!0,P.getCourseProfile(this.process,()=>{},this.courseId)}},computed:{url(){let t=window.location.href.replace(/^http:/,"https:");return t=t.replace(/public/g,"course"),t+"?id="+this.courseId},hasVideo(){return this.course.video},cardStyle(){return this.$q.platform.is.mobile?"padding:0px!important; padding-top:0px!important; margin-right:0px!important":""},bannerImg(){if(!this.profile.bannerImg)return"background: radial-gradient(circle, rgba(57,204,204,1) 0%, rgba(27,69,113,1) 100%)!important;";if(!!this.profile&&!!this.profile.bannerImg)return'background-image: url("'+this.profile.bannerImg+'")!important'},containerClass(){return this.courseId,""},language(){return this.profile.languages[0]},courseProfile(){return this.course.profiles[0]},media(){const t=[];return this.profile.video&&t.push({type:"vid",url:this.profile.video}),this.profile.photos.foreach(e=>{t.push({type:"img",url:e})}),t},hashtags(){const t=this.course.categories.map(e=>e.name.replace(/\s/g,"")).join(",");return console.log("ht",t),t},otherCourses(){return this.profile.courses.filter(t=>t.id!==this.courseId)}},components:{ProviderContact:se,SocialShare:re,Favourite:oe,CourseCard:ie,VideoPlayer:ne},watch:{courseId(){this.getCourse()}},created(){this.getCourse(),P.getCoursesDurations(this.processDurations,()=>{}),P.getCategories(t=>{this.categories=t})}},me={key:0,class:"col flex fit items-center justify-center"},pe={class:"full-width"},he={class:"full-width text-white q-my-none text-center",style:{"line-height":"32px","font-size":"32px","font-weight":"600"}},ge={class:"full-width q-my-none text-white text-center q-pt-md",style:{"font-weight":"400","font-size":"16px","line-height":"18px"}},ve={class:"x-logo-container row items-center"},ye={class:"row full-width x-background-hint flex justify-end q-py-xs items-center"},xe={class:"q-my-xs text-bold on-right"},_e={key:1,class:"on-right q-my-xs"},be={class:"col-4 justify-start items-center flex"},we={class:"text-bold on-right"},Ce={class:"col-4 justify-center items-center flex"},qe={class:"text-bold on-right"},ke={class:"col-4 justify-end items-center flex"},Ie={class:"text-bold on-right"},Qe={class:"row"},Se={class:"text-left full-width"},ze={key:0,class:"row full-width q-mt-mdx q-mb-xs",style:{"margin-left":"-5px!important"}},Pe={key:1},Ve={class:"row"},De=["innerHTML"],Oe={class:"row"},je=["innerHTML"],Ne={class:"flex q-gutter-xs justify-center"};function Be(t,e,u,d,s,n){const y=b("social-share"),g=b("favourite"),_=b("video-player"),C=b("course-card"),x=b("provider-contact");return l(),m("div",{onClick:Z(()=>{},["stop"]),class:$(["flex fit items-start justify-center content-start",n.containerClass]),style:{"min-widthX":"400px","max-width":"600"}},[s.loading?(l(),m("div",me,[r(V,{color:"accent",size:"100px",class:"desktop-only"}),r(V,{color:"accent",size:"40px",class:"mobile-only"})])):c("",!0),!s.loading&&s.profile?(l(),m("div",{key:1,style:O(n.cardStyle),class:"row x-row",stylex:"flex-wrap: nowrap"},[r(G,{style:O(n.cardStyle),class:"col-sm col-12 bd-dark q-mr-md",flat:"",stylex:"min-width:550px; max-widthx: 550px!important"},{default:i(()=>[r(p,{flex:"",class:"full-width bg-primary",horizontal:""},{default:i(()=>[r(p,{class:"bg-primary full-width flex justify center items-center"},{default:i(()=>[o("span",pe,[o("h1",he,h(s.profile.name),1),o("h3",ge,h(n.courseProfile.title),1)])]),_:1}),s.profile.logoImg?(l(),f(p,{key:0,class:"q-pa-none flex items-center justify-center q-pr-xs"},{default:i(()=>[o("div",ve,[r(j,{loading:"lazy",fit:"contain",src:s.profile.logoImg,class:"no-padding full-width"},null,8,["src"])])]),_:1})):c("",!0)]),_:1}),o("div",ye,[r(w,{name:"location_on",color:"accent",size:"sm",class:"on-right"}),s.course.isOnline===1?(l(),f(w,{key:0,name:"computer",color:"accent",size:"lg",class:"on-right"})):c("",!0),o("p",xe,h(s.course.isOnline===1?"Online":s.course.location),1),s.course.location?c("",!0):(l(),m("p",_e,[r(q,{class:"column",bordered:"",type:"text",width:"100px",height:"30px"},{default:i(()=>[...e[4]||(e[4]=[o("span",{class:"row items-center",style:{height:"30px"}},"Location",-1)])]),_:1})])),r(ee),r(y,{url:n.url,title:s.profile.name,description:n.language.tagline,hashtags:n.hashtags},null,8,["url","title","description","hashtags"]),r(g,{url:n.url,color:"grey-9",title:s.profile.name,providerId:s.profile.providerId,courseId:s.profile.id},null,8,["url","title","providerId","courseId"])]),r(v),r(p,{class:"x-background-hintx flex row q-py-xs"},{default:i(()=>[o("div",be,[r(w,{name:"calendar_month",color:"grey-9",size:"sm",class:"desktop-only"}),o("span",we,h(s.course.startDateFormatted),1)]),o("div",Ce,[r(w,{name:"schedule",color:"grey-9",size:"sm"}),o("span",qe,h(s.course.duration)+" "+h(s.course.durationName)+h(s.course.duration>1?"s":""),1)]),o("div",ke,[r(w,{name:"credit_card",color:"grey-9",size:"sm"}),o("span",Ie,h(n.cost(s.course)),1)])]),_:1}),r(v),r(p,null,{default:i(()=>[o("div",Qe,[o("p",Se,[z(h(n.courseProfile.description),1),n.courseProfile.description?c("",!0):(l(),f(q,{key:0,class:"column",bordered:"",type:"text",width:"100px",height:"30px"},{default:i(()=>[...e[5]||(e[5]=[o("span",{class:"row items-center"},"Description",-1)])]),_:1}))]),s.course.categories.length>0?(l(),m("div",ze,[(l(!0),m(I,null,Q(s.course.categories,a=>(l(),f(te,{key:a.value,class:"x-buttons text-primary",outline:"",size:"sm"},{default:i(()=>[z(h(a.name),1)]),_:2},1024))),128))])):c("",!0),s.course.categories.length===0?(l(),m("div",Pe,[r(q,{class:"column",bordered:"",type:"text",width:"100px",height:"30px"},{default:i(()=>[...e[6]||(e[6]=[o("span",{class:"row items-center"},"Categories",-1)])]),_:1})])):c("",!0)])]),_:1}),r(v),r(p,null,{default:i(()=>[o("div",Ve,[e[8]||(e[8]=o("p",{class:"text-bold text-h7"},"Course Outcomes",-1)),o("p",{innerHTML:n.courseProfile.outcomes,class:"full-width q-my-none text-left",style:{"font-weight":"400","font-size":"14px"}},null,8,De),n.courseProfile.outcomes?c("",!0):(l(),f(q,{key:0,class:"column",bordered:"",type:"text",width:"100px",height:"30px"},{default:i(()=>[...e[7]||(e[7]=[o("span",{class:"row items-center"},"Outcomes",-1)])]),_:1}))])]),_:1}),r(v),r(K,{class:"flex items-center justify-center"},{default:i(()=>[r(Y,{onClick:e[0]||(e[0]=a=>s.contactOpen=!0),flat:"",color:"white",size:"18px",class:"text-bold bg-accent full-width q-mx-md q-my-xs x-button",label:"Contact Provider","no-caps":"",rounded:"",unelevated:""})]),_:1}),r(v),n.hasVideo?(l(),f(p,{key:0,class:"x-input full-width flex justify-start q-mb-lg",ref:""},{default:i(()=>[e[9]||(e[9]=o("div",{class:"row"},[o("p",{class:"text-bold text-h7"},"Course Video")],-1)),r(_,{src:s.course.video,controls:"",loop:!1,volume:.6,fluid:"",stylex:"height:200px; width: 100%"},null,8,["src"])]),_:1},512)):c("",!0),r(p,null,{default:i(()=>[o("div",Oe,[e[10]||(e[10]=o("p",{class:"text-bold text-h7"},"About the provider",-1)),o("p",{innerHTML:n.language.description,class:"full-width q-my-none text-left",style:{"font-weight":"400","font-size":"14px"}},null,8,je)]),r(de,{once:"",transition:"fade",class:""},{default:i(()=>[r(le,{ref:"carousel",navigation:"",arrows:"",animated:"",modelValue:s.slide,"onUpdate:modelValue":e[1]||(e[1]=a=>s.slide=a),"navigation-icon":"radio_button_unchecked",infinite:"",class:"full-width q-mt-md"},{default:i(()=>[(l(!0),m(I,null,Q(s.profile.photos,a=>(l(),f(N,{"spinner-color":"accent",key:a,name:a,"img-src":a,class:"rounded-borders column no-padding"},{default:i(()=>[...e[11]||(e[11]=[o("div",{class:"x-image-strip-top",style:{}},null,-1),o("div",{class:"col"},null,-1),o("div",{style:{},class:"x-image-strip-bottom"},null,-1)])]),_:1},8,["name","img-src"]))),128)),s.profile.video?(l(),f(N,{key:0,name:s.profile.video},{default:i(()=>[r(ae,{class:"absolute-full",src:s.profile.video},null,8,["src"])]),_:1},8,["name"])):c("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1}),r(v),r(p,null,{default:i(()=>[e[12]||(e[12]=o("p",{class:"text-bold"},"Provider Operates in:",-1)),o("div",Ne,[(l(!0),m(I,null,Q(s.profile.countries,a=>(l(),f(j,{loading:"lazy",width:"32px",height:"24px",key:a.id,src:a.flagUrl,style:{border:"1px solid black"}},{default:i(()=>[r(ue,null,{default:i(()=>[z(h(a.name),1)]),_:2},1024)]),_:2},1032,["src"]))),128))])]),_:1}),n.otherCourses.length>0?(l(),f(v,{key:1,class:"q-mt-md"})):c("",!0),r(p,{class:"bg-primary q-py-sm"},{default:i(()=>[...e[13]||(e[13]=[o("h2",{class:"q-my-sm text-bold text-white text-left",style:{"font-size":"20px"}},"Upcoming Courses",-1)])]),_:1}),n.otherCourses.length>0&&s.categories.length>0&&s.durations.length>0?(l(),f(p,{key:2,class:"bg-grey-2 q-ma-none q-pb-sm q-pt-sm q-px-sm"},{default:i(()=>[(l(!0),m(I,null,Q(n.otherCourses,(a,M)=>(l(),m("div",{class:"col q-mb-sm",key:a.id},[r(C,{hideButtons:"",style:{"border-radius":"0px!important"},flat:"",i:a,categories:s.categories,durations:s.durations,densex:"",class:"bg-primary",classX:M%2===0?"bg-grey-1":""},null,8,["i","categories","durations","classX"])]))),128))]),_:1})):c("",!0)]),_:1},8,["style"])],4)):c("",!0),s.profile?(l(),f(W,{key:2,modelValue:s.contactOpen,"onUpdate:modelValue":e[3]||(e[3]=a=>s.contactOpen=a)},{default:i(()=>[r(x,{providerId:t.providerId,providerName:s.profile.name,onExit:e[2]||(e[2]=a=>s.contactOpen=!1)},null,8,["providerId","providerName"])]),_:1},8,["modelValue"])):c("",!0)],2)}var Re=J(fe,[["render",Be],["__scopeId","data-v-24a19ae9"]]);export{Re as C};
